# NBNF Tools

Converting NBNF grammars embedded in Markdown documents to other formats


## What are NBNF grammars?

NBNF (e**N**riched **BNF**) is an extension of [BNF][1] which adds a bit
syntactic sugar to the latter. In particular this means that every grammar which
can be expressed in NBNF can also be expressed in BNF. Hence NBNF does not leave
the scope of [context-free grammars][2].

For a description of the syntax and semantics of NBNF, have a look at the file
[_docs/nbnf-description.md_](./docs/nbnf-desctiption.md). A fully formal
specification of the syntax of NBNF as it is accepted by this package's parser
can be found in the file [_docs/nbnf-syntax.md_](./docs/nbnf-syntax.md).


## Features

This package provides a tool called `nbnf-exe` which can be used to convert
[Pandoc Markdown][3] (in the following just called _Markdown_) files containing
NBNF rules to the following file formats:

  * Plain text
  * XML
  * HTML

When converted to plain text or XML the resulting file will only contain the
NBNF rules of the Markdown file, whereas when converting to HTML it will also
contains all additional content of the Markdown file like headings, tables,
sourrounding text and so on.

Thus for `nbnf-exe` to be able to distinguish between NBNF rules and other
content of the Markdown file, it is necessary to enclose every single rule
within ` ```nbnf` and ` ``` `, e.g.

```nbnf
<foo> = <bar>
      | "baz"
```


## Setup

To generate an executable from this package, first make sure that the tools
[git][4] and [stack][5] are installed on your system. Then execute the following
commands in any directory of your choice:

```sh
git clone https://github.com/McEarl/nbnf.git
cd nbnf
stack build
```


## Usage

To convert a Markdown document which contains NBNF rules to plain text, XML or
HTML run the following command:

```
stack exec nbnf-exe -- <in-file 1> ... <in-file n> <out-file>
```

Here `<in-file 1>`, ..., `<in-file n>` are names of *n* input files (for some
*n â‰¥ 1*) and `<out-file>` is the name of the output file generated by
`nbnf-exe`. The output file can have one of the following file extensions which
determine to which format the content of the input files is converted to:

  * `.txt` (plain text)
  * `.xml` (XML)
  * `.html` (HTML)

The input files must be Markdown files, which will first be concatenated and
then converted to the output format.

**Warning:** If a file with the same name as the output file already exists it
will be overwritten without further inquiry!


Here are some usage examples:

* Convert a single Markdown file `file.md` to plain text:

  ```
  stack exec nbnf-exe -- file.md file.txt
  ```

* Convert several Markdown files `file-1.md` and `file-2.md` to XML:

  ```
  stack exec nbnf-exe -- file-1.md file-2.md file-3.xml
  ```

* Convert a several Markdown files `file-1.md` and `file-2.md` to HTML:

  ```
  stack exec nbnf-exe -- file-1.md file2.md file-3.html
  ```




[1]: <https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_form>
[2]: <https://en.wikipedia.org/wiki/Context-free_grammar>
[3]: <https://github.github.com/gfm/>
[4]: <https://git-scm.com/download/linux>
[5]: <https://docs.haskellstack.org/en/stable/install_and_upgrade/>
